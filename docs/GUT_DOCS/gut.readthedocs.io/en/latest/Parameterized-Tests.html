<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Parameterized Tests &mdash; GUT 9.4.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/gut_custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/dark_mode_css/general.css" type="text/css" />
      <link rel="stylesheet" href="_static/dark_mode_css/dark.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js%3Fv=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js%3Fv=2cd50e6c"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js%3Fv=354d2d61"></script>
        <script src="_static/doctools.js%3Fv=888ff710"></script>
        <script src="_static/sphinx_highlight.js%3Fv=4825356b"></script>
        <script src="_static/dark_mode_js/default_dark.js%3Fv=fd565c74"></script>
        <script src="_static/dark_mode_js/theme_switcher.js%3Fv=358d3910"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Simulate" href="Simulate.html" />
    <link rel="prev" title="Inner Test Classes" href="Inner-Test-Classes.html" /> 
<script async type="text/javascript" src="../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="gut" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/Parameterized-Tests.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            GUT
              <img src="_static/GutDocsLogo.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                9.4.0 for Godot-4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="Quick-Start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="Command-Line.html">Command Line</a></li>
<li class="toctree-l1"><a class="reference internal" href="New-For-Godot-4.html">Godot 4 Changes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Test Scripts</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_guttest.html">GutTest</a></li>
<li class="toctree-l1"><a class="reference internal" href="Creating-Tests.html">Creating Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="Awaiting.html">Awaiting</a></li>
<li class="toctree-l1"><a class="reference internal" href="Inner-Test-Classes.html">Inner Test Classes</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="Parameterized-Tests.html#">Parameterized Tests</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Parameterized-Tests.html#requirements">Requirements:</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parameterized-Tests.html#example">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="Parameterized-Tests.html#parameterfactory">ParameterFactory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Parameterized-Tests.html#methods">Methods</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Parameterized-Tests.html#named-parameters">named_parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Simulate.html">Simulate</a></li>
<li class="toctree-l1"><a class="reference internal" href="Comparing-Things.html">Comparing Things</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Doubling</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Doubles.html">Doubles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Partial-Doubles.html">Partial Doubles</a></li>
<li class="toctree-l1"><a class="reference internal" href="Double-Strategy.html">Doubling Strategy</a></li>
<li class="toctree-l1"><a class="reference internal" href="Stubbing.html">Stubbing</a></li>
<li class="toctree-l1"><a class="reference internal" href="Spies.html">Spies</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="GDScript-Warnings.html">GDScript Warnings</a></li>
<li class="toctree-l1"><a class="reference internal" href="Export-Test-Results.html">Export Test Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="Hooks.html">Hooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="Memory-Management.html">Memory Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="Mocking-Input.html">Mocking Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="Orphans.html">Orphans</a></li>
<li class="toctree-l1"><a class="reference internal" href="Running-On-Devices.html">Running on Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="Tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Class Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Class-Ref.html">About Class Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_addons_gut_cli_optparse.html">addons/gut/cli/optparse.gd</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_addons_gut_junit_xml_export.html">addons/gut/junit_xml_export.gd</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_addons_gut_parameter_factory.html">addons/gut/parameter_factory.gd</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_guthookscript.html">GutHookScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_gutinputfactory.html">GutInputFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_gutinputsender.html">GutInputSender</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_gutmain.html">GutMain</a></li>
<li class="toctree-l1"><a class="reference internal" href="class_ref/class_guttest.html">GutTest</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GUT</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Parameterized Tests</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/Parameterized-Tests.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="parameterized-tests">
<h1>Parameterized Tests<a class="headerlink" href="Parameterized-Tests.html#parameterized-tests" title="Permalink to this heading"></a></h1>
<p>There are some scenarios where it is desirable to run a test numerous times with different parameters.  You can do this in GUT by creating a test that has a single parameter that is defaulted to the GUT method <code class="docutils literal notranslate"><span class="pre">use_parameters</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">use_parameters</span></code> expects an array.  The test will be called once for each element in the array, passing the value of each element to the parameter of the function.</p>
<section id="requirements">
<h2>Requirements:<a class="headerlink" href="Parameterized-Tests.html#requirements" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>The test must have one and only one parameter.</p></li>
<li><p>The parameter must be defaulted to call <code class="docutils literal notranslate"><span class="pre">use_parameters</span></code>.</p></li>
<li><p>You must pass an array to <code class="docutils literal notranslate"><span class="pre">use_parameters</span></code>.  The test will be called once for each element in the array.</p></li>
<li><p>If the parameter is not defaulted then it will cause a runtime error.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">use_parameters</span></code> is not called then GUT will only run the test once and will generate an error.</p></li>
</ul>
</section>
<section id="example">
<h2>Example<a class="headerlink" href="Parameterized-Tests.html#example" title="Permalink to this heading"></a></h2>
<div class="highlight-gdscript notranslate"><div class="highlight"><pre><span></span><span class="k">extends</span><span class="w"> </span><span class="n">GutTest</span>

<span class="k">class</span><span class="w"> </span><span class="n">Foo</span><span class="p">:</span>
<span class="w">  </span><span class="k">func</span><span class="w"> </span><span class="n">add</span><span class="p">(</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">p2</span><span class="p">):</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">p2</span>

<span class="c1"># Define one array, with two arrays as the elements in the array.</span>
<span class="c1"># This will cause the test to be called twice.  The first</span>
<span class="c1"># call will get [1, 2, 3] as the value of the parameter.</span>
<span class="c1"># The second call will get [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
<span class="k">var</span><span class="w"> </span><span class="n">foo_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">]]</span>

<span class="c1"># This test will add the first two elements in params together,</span>
<span class="c1"># using Foo, and assert that they equal the third element in params.</span>
<span class="k">func</span><span class="w"> </span><span class="n">test_foo</span><span class="p">(</span><span class="n">params</span><span class="o">=</span><span class="n">use_parameters</span><span class="p">(</span><span class="n">foo_params</span><span class="p">)):</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Foo</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<span class="w">  </span><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">params</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="w"> </span><span class="n">params</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="w">  </span><span class="n">assert_eq</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
<p>Running this test will result in:</p>
<ul class="simple">
<li><p>One passing test (<code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">=</span> <span class="pre">3</span></code>)</p></li>
<li><p>One failing test (<code class="docutils literal notranslate"><span class="pre">'a'</span> <span class="pre">+</span> <span class="pre">'b'</span>&#160; <span class="pre">!=</span> <span class="pre">'c'</span></code>, it actually equals <code class="docutils literal notranslate"><span class="pre">'ab'</span></code>)</p></li>
</ul>
</section>
<section id="parameterfactory">
<h2>ParameterFactory<a class="headerlink" href="Parameterized-Tests.html#parameterfactory" title="Permalink to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">GutTest</span></code> scripts have access to the <code class="docutils literal notranslate"><span class="pre">ParameterFactory</span></code> static class which has helper methods for defining parameters for parameterized tests.</p>
<section id="methods">
<h3>Methods<a class="headerlink" href="Parameterized-Tests.html#methods" title="Permalink to this heading"></a></h3>
<p>There’s only one right now.  If you have any suggestions, open up an <a class="reference external" href="https://github.com/bitwes/Gut/issues">issue on Github</a>.</p>
<section id="named-parameters">
<h4>named_parameters<a class="headerlink" href="Parameterized-Tests.html#named-parameters" title="Permalink to this heading"></a></h4>
<p><code class="docutils literal notranslate"><span class="pre">named_parameters(names,</span> <span class="pre">values)</span></code><br>
Creates an array of dictionaries.  It pairs up the names array with each set of values in values.  If more names than values are specified then the missing values will be filled with nulls.  If more values than names are specified those values will be ignored.</p>
<p>Example:</p>
<div class="highlight-gdscript notranslate"><div class="highlight"><pre><span></span><span class="c1"># With this setup, you can use `params.p1`, `params.p2`, and</span>
<span class="c1"># `params.result` in the test below.</span>
<span class="k">var</span><span class="w"> </span><span class="n">foo_params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ParameterFactory</span><span class="o">.</span><span class="n">named_parameters</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;p2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;result&#39;</span><span class="p">],</span><span class="w"> </span><span class="c1"># names</span>
<span class="w">    </span><span class="p">[</span><span class="w">                       </span><span class="c1"># values</span>
<span class="w">        </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="w">    </span><span class="p">])</span>

<span class="k">func</span><span class="w"> </span><span class="n">test_foo</span><span class="p">(</span><span class="n">params</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">use_parameters</span><span class="p">(</span><span class="n">foo_params</span><span class="p">)):</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Foo</span><span class="o">.</span><span class="n">new</span><span class="p">()</span>
<span class="w">    </span><span class="k">var</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">foo</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">params</span><span class="o">.</span><span class="n">p1</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="n">p2</span><span class="p">)</span>
<span class="w">    </span><span class="n">assert_eq</span><span class="p">(</span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="n">params</span><span class="o">.</span><span class="n">result</span><span class="p">)</span>
</pre></div>
</div>
<p>Here are some invalid setups and what results.</p>
<div class="highlight-gdscript notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example of extra values.  This returns:</span>
<span class="c1"># [{a:1}, {a:3}]</span>
<span class="n">ParameterFactory</span><span class="o">.</span><span class="n">named_parameters</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span>
<span class="w">        </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">],</span>
<span class="w">        </span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">]</span>
<span class="w">    </span><span class="p">])</span>

<span class="c1"># Example of not enough values.  This returns:</span>
<span class="c1"># [{a:1, b:null}, {a:&#39;oops&#39;, b:null}, {a:&#39;one&#39;, b:&#39;two&#39;}]</span>
<span class="n">ParameterFactory</span><span class="o">.</span><span class="n">named_parameters</span><span class="p">(</span>
<span class="w">    </span><span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;b&#39;</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span>
<span class="w">        </span><span class="p">[</span><span class="mi">1</span><span class="p">],</span>
<span class="w">        </span><span class="s1">&#39;oops&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;two&#39;</span><span class="p">]</span>
<span class="w">    </span><span class="p">])</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="Inner-Test-Classes.html" class="btn btn-neutral float-left" title="Inner Test Classes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Simulate.html" class="btn btn-neutral float-right" title="Simulate" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Butch Wesley.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>